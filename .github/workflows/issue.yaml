name: issue on failure

on:
 workflow_run:
  workflows: ["hello-world-pipeline"]
  types:
   - completed

jobs:
   create_issue:
      if: ${{ github.event.workflow_run.conclusion == 'failure' }}
      runs-on: ubuntu-latest
      steps:
        
        - name: Install GitHub CLI
          run: sudo apt-get install gh -y

        - name: create issue on failure
          env:
            GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          run: |
            gh issue create \
            --title "Pipeline Failure ðŸš¨" \
            --body "The workflow hello-world-pipeline failed. Please check logs."
         


  
   